# Корутины в Kotlin

Что нужно сделать

В качестве основы возьмите выполненное домашнее задание по библиотеке Retrofit.

Экран списка публичных репозиториев

На экране со списком публичных репозиториев добавьте CoroutineScope во ViewModel.
По умолчанию при запуске корутины в этом скоупе код должен выполняться на UI-потоке.
CoroutineScope не должен отменяться при возникновении ошибки в запущенной корутине.
Отменяйте все корутины, запущенные в CoroutineScope при уничтожении ViewModel списка
репозиториев.
Сделайте метод получения списка репозиториев suspend, используйте синхронный запрос ретрофита
с помощью метода вызова execute(). Выполняйте обращение к сети в фоновом потоке, для этого
смените диспетчер с помощью withContext. Избавьтесь от колбеков в параметре метода. Метод
должен возвращать список репозиториев.
Запустите корутину из ViewModel списка репозиториев. Используйте launch. Вызовите suspend
метод получения списка репозиториев внутри запущенной корутины.
Обработайте возникшие ошибки с помощью try/catch.

Экран детальной информации о репозитории

На экране детальной информации о репозитории во ViewModel используйте для работы с корутинами
встроенный viewModelScope.
Метод проверки проставленной звёздочки пометьте модификатором suspend. Метод должен возвращать
Boolean. При обращении к сети в этом методе используйте асинхронный запрос ретрофита с колбеками
с помощью enqueue(). Преобразуйте запрос с колбеками в suspend блок кода с помощью
suspendCancelableCoroutine. При отмене корутины отменяйте начатый запрос.
Методы установки и снятия звёздочки для GitHub-репозитория пометьте как suspend в сетевом
интерфейсе Retrofit.
Измените обращения к репозиторию во ViewModel детальной информации с колбеков на корутины,
обработайте ошибки с помощью try/catch.

Экран профиля

На экране профиля CurrentUserFragment переделайте запросы на сервер с использованием корутин.
Кроме информации о текущем пользователе при открытии необходимо совершить запрос для получения
списка людей, на которых подписан текущий пользователь в GitHub. Для этого используйте метод
API: https://docs.github.com/en/rest/reference/users#list-the-people-the-authenticated-user-follows.
Совершите два запроса (/user/following и /user) параллельно, для этого используйте async.
Дождитесь результата выполнения обоих запросов и отобразите на экране информацию о пользователе
и список людей, на которых пользователь подписан.
Обработайте ошибки с помощью CoroutineExceptionHandler.

Критерии оценки

Код оформлен в соответствии с правилами
https://kotlinlang.org/docs/reference/coding-conventions.html.
Соблюдён принцип инкапсуляции с помощью модификаторов доступа.
Классы являются не финальными (open, abstract) только при необходимости.
Текстовые строки не являются захардкоженными и используются из ресурсов.
Код разнесён по сущностям в соответствии с их ответственностями.
Для всех запросов к сетевому API используется Retrofit.
При создании CoroutineScope используется SupevisorJob.
Для всех корутин обрабатываются ошибки, крэшей в приложении нет.
При уничтожении ViewModel совершаемые запросы на сервер отменяются.
Обращение к сетевому API происходит в фоновом потоке.
Выполнены все пункты в соответствии с заданием.
